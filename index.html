<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <title>Code for Miami - Codigo para Miami | A Code for America Brigade</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Locals helping Miami open their data and create meaningful web and mobile apps">
    <link rel="shortcut icon" href="favicon.ico" />
    <link href="css/bootstrap-combined.min.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
    <script src="js/jquery-1.9.1.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>

  <body>

    <!-- NAVBAR
    ================================================== -->
    <div class="navbar-wrapper">
      <!-- Wrap the .navbar in .container to center it within the absolutely positioned parent. -->
      <div class="container">

        <div class="navbar navbar-inverse">
          <div class="navbar-inner">
            <!-- Responsive Navbar Part 1: Button for triggering responsive navbar. Include responsive CSS to utilize. -->
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </a>
            <a class="brand" href="#"><span class="c4mred">Code</span> <span class="c4mblue">For Miami</span></a>
            <!-- Responsive Navbar Part 2: Place all navbar contents you want collapsed withing .navbar-collapse.collapse. -->
            <div class="nav-collapse collapse">
              <ul class="nav">
                <li class="active"><a href="/">Home</a></li>
                <li><a href="http://codeformia.tumblr.com">Blog</a></li>
                <li class="dropdown" id="menu-events">
                  <a href="#menu-events" class="dropdown-toggle" data-toggle="dropdown">
                    Events
                    <b class="caret"></b>
                  </a>
                  <ul class="dropdown-menu">
                   <li>
                        <a href="http://www.meetup.com/Code-for-Miami/">
                        <i class="icon-calendar"></i>
                        Our Meetup</a>
                      </li>
                    <li>
                      <a href="http://codeformiami.org/OpenDataJam/">
                      <i class="icon-calendar"></i>
                      Feb. 22: Open Data Jam</a>
                    </li>
                  </ul>
                </li>

                <li class="dropdown" id="menu-contact">
                  <a href="#menu-contact" class="dropdown-toggle" data-toggle="dropdown">Contact
                  <b class="caret"></b>
                  </a>
                  <ul class="dropdown-menu">
                    <li>
                      <a href="#contact">
                      <i class="icon-pencil"></i>
                      Email Us</a>
                      </li>
                    <li>
                      <a href="http://eepurl.com/N_QIT">
                      <i class="icon-envelope"></i>
                      Email Newsletter</a>
                    </li>
                  </ul>
                </li>
                <!-- Read about Bootstrap dropdowns at http://twitter.github.com/bootstrap/javascript.html#dropdowns -->
                <li class="dropdown" id="menu-resources">
                  <a href="#menu-resources" class="dropdown-toggle" data-toggle="dropdown">
                    Resources
                    <b class="caret"></b>
                  </a>
                  <ul class="dropdown-menu">
                    <li>
                      <a href="https://facebook.com/codeformiami">
                      <i class="icon-comment"></i>
                      Our Facebook Page</a>
                    </li>
                    <li>
                      <a href="https://groups.google.com/forum/#!forum/code-for-miami">
                      <i class="icon-comment"></i>
                      Our Google Groups Forum</a>
                    </li>
                    <li>
                      <a href="http://www.meetup.com/code-for-miami/">
                        <i class="icon-user"></i>
                        Our Gatherings on Meetup</a>
                    </li>
                    <li>
                      <a href="https://twitter.com/codeformiami">
                        <i class="icon-retweet"></i>
                        Our Twitter Account (@codeformiami)</a></a>
                    </li>
                    <li>
                      <a href="https://github.com/code-for-miami">
                        <i class="icon-wrench"></i>
                        Our Code on GitHub</a>
                    </li>
                    <li>
                      <a href="http://codeformiami.uservoice.com/">
                      <i class="icon-thumbs-up"></i>
                      Idea List for Civic Apps and Open Data</a>
                    </li>
                  

                    <li class="divider"></li>

                    <li>
                      <a href="https://twitter.com/search?q=%23cfabrigade">
                        <i class="icon-retweet"></i>
                        #cfabrigade - National Tweets</a>
                      </li>
                  </ul>
                </li>
         <li class="dropdown" id="menu-projects">
                    <a href="#menu-projects" class="dropdown-toggle" data-toggle="dropdown">
                      Projects
                      <b class="caret"></b>
                    </a>
                    <ul class="dropdown-menu">
                     <li>
                        <a href="http://miamiwiki.org/">
                        <i class="icon-home"></i>
                        Miami Wiki</a>
                      </li>
            <li>
                        <a href="https://github.com/Code-for-Miami/mdt-bus-sms">
                        <i class="icon-thumbs-up"></i>
                        TxtMyBusMIA</a>
                      </li>
            <li>
                        <a href="http://code-for-miami.github.io/legislature-tracker">
                        <i class="icon-thumbs-up"></i>
                        Florida Legislation Tracker</a>
                      </li>
            <li>
                        <a href="http://code-for-miami.github.io/iam1of.us">
                        <i class="icon-thumbs-up"></i>
                          iam1of.us</a>
                      </li>
                      <li>
                        <a href="http://code-for-miami.github.io/dude-wheres-my-bike">
                        <i class="icon-thumbs-up"></i>
                          Dude Where's My Bike</a>
                      </li>
          
                  </ul>
             </li>
           </ul>
           <ul class="nav pull-right language-menu">
             <li class="divider-vertical"></li>
             <li>
                   <a href="http://es.codeformiami.org">
                     Espa√±ol
                   </a>
             </li>
               </ul>
            </div><!--/.nav-collapse -->
          </div><!-- /.navbar-inner -->
        </div><!-- /.navbar -->

      </div> <!-- /.container -->
    </div><!-- /.navbar-wrapper -->


  <!-- fork me banner, top right
  ================================================== -->
<!--
  <a class="forkme" href="https://github.com/c4hrva/c4hrva-landing"><img style="position: absolute; top: 0; right: 0; border: 0; z-index: 100;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"></a>
-->


    <!-- Carousel - only using one at the moment
    ================================================== -->
    <div class="carousel slide">
      <div class="carousel-inner">

        <div class="item active">
          <img src="images/carousel/Miami1.jpg" alt="MacArthur Causeway | Miami" />
          <div class="container">
            <div class="carousel-caption">
              <h1>We Are Code For Miami.</h1>
              <p class="lead">
                Come join developers, designers, data geeks, leaders, and idea-makers who 
                volunteer to help Miami-Dade government and civic orgs adopt open web technologies.
              </p>
              <a class="btn btn-large btn-primary" href="http://www.meetup.com/Code-for-Miami/">Stop By Our Meetups</a>
            </div>
          </div>
        </div>
 
        <div class="item">
          <img src="images/carousel/Miami2.jpg" alt="American Airlines Arena | Downtown Miami" />
          <div class="container">
            <div class="carousel-caption">
              <h1>Join the Movement.</h1>
              <p class="lead">
                We are looking for creatives, developers, designers and writers to support our movement.
              </p>
              <a class="btn btn-large btn-primary" href="http://www.meetup.com/Code-for-Miami/">Stop By Our Meetups</a>
            </div>
          </div>
        </div>

        <div class="item">
          <img src="images/carousel/Miami3.jpg" alt="Downtown Miami Skyline" />
          <div class="container">
            <div class="carousel-caption">
              <h1>Want to Learn More?</h1>
              <p class="lead">
                We meet weekly at The Lab Miami in Wynwood. 
              </p>
              <a class="btn btn-large btn-primary" href="http://www.meetup.com/Code-for-Miami/">Stop By Our Meetups</a>
            </div>
          </div>
        </div>

      </div>
    </div><!-- /.carousel -->

    
    
    <div class="container marketing clearleft">


    <!-- Marketing messaging and featurettes
    ================================================== -->
    <!-- Wrap the rest of the page in another container to center all the content. -->



      <!-- Three columns of text below the carousel -->
      <div class="row">
        <div class="span4">
          <img src="images/captain.png" alt="CfA Brigade Captain" />
          <h2>Come To Our Meetups</h2>
          <p>A casual <a href="http://www.meetup.com/Code-for-Miami/">meetup</a>, usually weekly, meeting at the LAB Miami in Wynwood.</p>
          <p><a class="btn" href="#meetup">View details &raquo;</a></p>
        </div><!-- /.span4 -->

        <div class="span4">
          <img src="images/community.png" alt="Community" />
          <h2>Join Online Discussions</h2>
          <p><a href="https://groups.google.com/forum/#!forum/code-for-miami">
            An open conversation online</a> about what we're doing now and what's next. .</p>
          <p><a class="btn" href="#groups">View details &raquo;</a></p>
        </div><!-- /.span4 -->

        <div class="span4">
          <img src="images/cfa_logo_greyscale.png" alt="Code for America" />
          <h2>See Our Inspiration</h2>
          <p><a href="http://codeforamerica.org/">Code for America</a> is the organization that helped inspire
            many of us that we can change our City.
          </p>
          <p><a class="btn" href="#cfa">View details &raquo;</a></p>
        </div><!-- /.span4 -->
      </div><!-- /.row -->


      <!-- START THE FEATURETTES -->

 <hr class="featurette-divider">

      <div class="featurette">
        <img class="featurette-image pull-left" style="padding-bottom: 75px" src="images/noun_project_756_citizen.png" alt="Citizen" />
        <h2 class="featurette-heading">Works In Progress. <br/><span class="muted">Some Of Our 2013 Projects.</span></h2>
        <p class="lead">
          <ul class="lead">
            <li>
              Miami Wiki
              (<a href="http://miamiwiki.org/">site</a>)
              
           </li>
           <li>
           TextMyBusMIA
           (<a href="https://github.com/Code-for-Miami/mdt-bus-sms">code</a>)
           </li>
       <li>
      FL Legislature Tracker
      (<a href="http://code-for-miami.github.io/legislature-tracker">demo</a>)
      (<a href="https://github.com/Code-for-Miami/legislature-tracker">code</a>)
      </li>
       <li>
      iam1of.us
      (<a href="http://code-for-miami.github.io/iam1of.us">demo</a>)
      (<a href="https://github.com/Code-for-Miami/iam1of.us">code</a>)
       </li>
       <li>
      Dude Where's My Bike?
      (<a href="http://code-for-miami.github.io/dude-wheres-my-bike">demo</a>)
      (<a href="https://github.com/Code-for-Miami/dude-wheres-my-bike">code</a>)
       </li>  
       <li>
      CodeForMiami.org
      (<a href="https://github.com/Code-for-Miami/code-for-miami.github.io">code</a>)
       </li>  
    
            
          </ul>
        </p>
      </div>

  <hr class="featurette-divider">

      <div class="featurette">
        <a href="http://brigade.codeforamerica.org/">
          <img name="cfa" id="cfa" class="featurette-image pull-right" src="images/cfa_brigade_logo.png" alt="Code for America Brigade" />
        </a>
        <h2 class="featurette-heading">Want To Help Your City? <span class="muted">Good, we could use your help.</span></h2>
        <p class="lead">We are a <a href="http://brigade.codeforamerica.org/">Code for America Brigade</a>,
          which means we're volunteers that contribute
          our talents toward improving the way our local governments and community organizations use the web.
          Brigade is about action and you're here because you are someone who takes action.
          <a href="http://brigade.codeforamerica.org/pages/activities">See what kind of things brigades do</a>, or watch the
            <a href="http://codeforamerica.org/2012/03/08/jennifer-pahlka-at-ted-video/">
              inspirational TED talk given by Jennifer Pahlka, the founder of Code for America.</a></p>
      </div>

      <hr class="featurette-divider">

      <div class="featurette">
        <a href="http://www.meetup.com/Code-for-Miami/">
          <img name="meetup" id="meetup" class="featurette-image pull-left" src="images/meetup.jpg" alt="Meetup.com" />
          </a>
        <h2 class="featurette-heading">We Meet Often. <span class="muted">Come Join Us.</span></h2>
        <p class="lead">Check out<a href="http://www.meetup.com/Code-for-Miami/">
          our Meetup</a> to learn more about events and projects. We meet at 7 p.m. on Monday nights at <a href="http://thelabmiami.com/">the LAB Miami</a> in Wynwood.</p>
        <h2><span class="c4mblue"><a href="http://codeformiami.org/OpenDataJam/"> Feb. 22: Open Data Jam</a></span></h2> 
        <p class="lead">Join us at the <a href="http://goo.gl/maps/gw4Gl">Light Box</a> in Wynwood on Feb. 22 from noon to 2 p.m. for <a href="http://codeformiami.org/OpenDataJam/">Open Data Jam</a> to brainstorm ideas to make Miami-Dade County's public data more transparent, more accessible and easier to use.</p>
      </div>

      <hr class="featurette-divider">

      <div class="featurette">
        <a href="https://groups.google.com/a/codeforamerica.org/forum/#!forum/code-for-miami">
          <img name="groups" id="groups" class="featurette-image pull-right" src="images/google_groups.png" alt="Google Groups" />
        </a>
        <h2 class="featurette-heading">We Discuss Things Online. <span class="muted">Join and Introduce Yourself.</span></h2>
        <p class="lead">
          Can't make it to a meetup?  No problem. We collaborate on projects, ask for help, and post wins
          to our <a href="https://groups.google.com/forum/?fromgroups#!forum/code-for-miami">Code for Miami forum</a> where you can get new posts in email and reply. We welcome anyone to sign-up... you might just see something you're interested in helping with. </p>
      </div>

      <hr class="featurette-divider">

      <div class="featurette">
        <img name="contact" id="contact" class="featurette-image pull-right" src="">
        <h2 class="featurette-heading">Want Even More Info? <span class="muted">Contact Us.</span></h2>
        <p class="lead">Our Brigade Captains are Ernie Hsiung (<a href="mailto:ehsiung@codeforamerica.org">ehsiung at codeforamerica.org</a> ) and Rebekah Monson (<a href="mailto:rmonson@codeforamerica.org">rmonson at codeforamerica.org</a> ) and we want to hear from you!</p>
      </div>

      <hr class="featurette-divider">

      <!-- /END THE FEATURETTES -->


      <!-- FOOTER -->
      <footer>
        <p class="pull-right"><a href="#">Back to top</a></p>
        <p>...People trying to Make Miami-Dade County even better...</p>
        <p>Built and Maintained by Code for Miami (Hey that's us). Site Design Based on <a href="http://twitter.github.com/bootstrap">Bootstrap</a>, Some Images Provided by <a href="http://thenounproject.com">The Noun Project</a> and <a href="http://aerostylaz.deviantart.com/gallery/?q=miami">Aerostylaz</a>.</p>
      </footer>

    </div><!-- /.container -->
  </body>
<script src="js/bootstrap-tooltip.js"></script>
<script>
// Include the UserVoice JavaScript SDK (only needed once on a page)
UserVoice=window.UserVoice||[];(function(){var uv=document.createElement('script');uv.type='text/javascript';uv.async=true;uv.src='//widget.uservoice.com/yprmU4gNZhVrvP2N9ks2cQ.js';var s=document.getElementsByTagName('script')[0];s.parentNode.insertBefore(uv,s)})();

//
// UserVoice Javascript SDK developer documentation:
// https://www.uservoice.com/o/javascript-sdk
//

// Set colors
UserVoice.push(['set', {
  accent_color: '#448dd6',
  trigger_color: 'white',
  trigger_background_color: '#448dd6'
}]);

// Identify the user and pass traits
// To enable, replace sample data with actual user traits and uncomment the line
UserVoice.push(['identify', {
  //email:      'john.doe@example.com', // User‚Äôs email address
  //name:       'John Doe', // User‚Äôs real name
  //created_at: 1364406966, // Unix timestamp for the date the user signed up
  //id:         123, // Optional: Unique id of the user (if set, this should not change)
  //type:       'Owner', // Optional: segment your users by type
  //account: {
  //  id:           123, // Optional: associate multiple users with a single account
  //  name:         'Acme, Co.', // Account name
  //  created_at:   1364406966, // Unix timestamp for the date the account was created
  //  monthly_rate: 9.99, // Decimal; monthly rate of the account
  //  ltv:          1495.00, // Decimal; lifetime value of the account
  //  plan:         'Enhanced' // Plan name for the account
  //}
}]);

// Add default trigger to the bottom-right corner of the window:
UserVoice.push(['addTrigger', { mode: 'smartvote', trigger_position: 'bottom-right' }]);

// Or, use your own custom trigger:
//UserVoice.push(['addTrigger', '#id', { mode: 'smartvote' }]);

// Autoprompt for Satisfaction and SmartVote (only displayed under certain conditions)
UserVoice.push(['autoprompt', {}]);
</script>
<script>    

  $(document).ready(function(){ 
  
      $('.carousel').carousel({
        interval: 5000
      })

    //GLOBAL VARIABLES HERE//
 var apiKey = "2975b6e4c43147824522959761677",
        meetupGroupUrl = "Code-for-Miami";

    var memberList = new Array();
   
    //get the next event
    $.getJSON("http://api.meetup.com/2/events?status=upcoming&order=time&limited_events=False&group_urlname=Code-For-Miami&desc=false&offset=0&format=json&page=20&fields=&sig_id=14485765&sig=ee64791e1ab7c9e6f82c5f5e47c85118fa698fd6&callback=?",function(upcomingData) { 

      eventTime = upcomingData.results[0].time;
      
      //currentTime = eventTime + 1 //testing value
      currentTime = new Date().getTime();
      eventEndTime = eventTime + 60000*60*3;
      //eventEndTime = eventTime + upcomingData.results[0].duration;
      //the above line only works if a specific end time is set.

      //console.log("Current Time is " + currentTime)
      //console.log("Event End Time is " + eventEndTime);
      eventId = upcomingData.results[0].id;

      if (currentTime >= eventTime && currentTime < eventEndTime) { 
        //console.log("Time to rock!");
        
        var memberbox = "<div class='memberbox'></div>";
        $(".carousel-caption").append(memberbox);
        //$(".memberbox").hide();

        //testing value for eventId
        //eventId = "113850802";

      function showThumbnails() {
        
        //get the checkin data for the next event
        $.getJSON("https://api.meetup.com/2/checkins?key="+apiKey+"&sign=true&event_id="+eventId+"&page=20&callback=?",function(checkinData) {

            howMany = checkinData.meta.count;

            //if there's nobody checked in, there's nothing to see here.  
            if (howMany === 0) {

              console.log("Nobody is checked in yet.");

              $(".memberbox").html("<h2>Nobody has checked in yet.</h2>");
              $(".memberbox").slideDown();
              

            //else, let's get those thumbnails up and running.  
            } else if (howMany >= 1) {

              $.each(checkinData.results, function(i,checkinData) {

                //console.log(checkinData.member_id);

                $.getJSON("https://api.meetup.com/2/member/"+checkinData.member_id+"?key="+apiKey+"&&sign=true&page=20&callback=?", function(memberData) { 
                    
                    var memberName = memberData.name,
                        toolTips = "<a class='tip' href='#' data-toggle='tooltip' data-placement='bottom' data-original-title='"+memberData.name+"'>", 
                        memberPix  = memberData.photo.thumb_link,
                        memberThumb = toolTips +"<img class='pix-thumb' src='"+memberPix+"' alt='"+ memberData.name +"'/></a>";
                    
                    if (memberList.indexOf(memberName) === -1) {
                        
                        memberList.push(memberName);
                        $(memberThumb).appendTo($(".memberbox"));

                    } else {
                      //do nothing
                    } 
                                      
                    $('.tip').tooltip();

                });

              });

              //event information  
              $.getJSON("https://api.meetup.com/2/events?key="+apiKey+"&sign=true&event_id="+eventId+"&page=20&callback=?", function(eventData) { 

                  var eventName = eventData.results[0].name,
                    eventLocation = eventData.results[0].venue.name,
                    eventStAddress = eventData.results[0].venue.address_1,
                    eventCity = eventData.results[0].venue.city,
                    eventState = eventData.results[0].venue.state,
                    eventURL = eventData.results[0].event_url,
                    memberCount = memberList.length,
                    eventCheckin = "<p id='checkins'>"+memberCount+" Civic Hackers are checked in at <a href='http://maps.google.com/maps?q="+eventStAddress+" "+eventCity+" "+eventState+"'>"+eventLocation+"</a> for <a href='"+eventURL+"'>"+eventName+"</a>.</p>";

                  console.log(memberCount);

                $(window).load(function(){

                  $(eventCheckin).appendTo($(".memberbox"));
                  $(".memberbox").slideDown();

                });

              });            
              
            }

          });
      
      }

      showThumbnails();



      } else {
        console.log("Nothing to see here.");
      }

      });

    });

</script>
</html>
